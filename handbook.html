<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Testing Bot Handbook</title>
    <style>
        /* Basic Styling */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            line-height: 1.7;
            margin: 0;
            padding: 20px;
            background-color: #f8f9fa;
            color: #343a40;
        }
        .container {
            max-width: 950px;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 20px 30px 30px 30px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        h1, h2, h3 {
            color: #0d6efd; /* Bootstrap blue */
        }
        h1 {
            text-align: center;
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 15px;
            margin-bottom: 25px;
            font-weight: 500;
        }
        h2 {
            margin-top: 25px;
            border-bottom: 1px solid #e9ecef;
            padding-bottom: 8px;
            font-size: 1.4em;
            font-weight: 500;
        }
        h3 {
            margin-top: 20px;
            color: #0d6efd;
             font-size: 1.15em;
            font-weight: 500;
        }
        code {
            background-color: #e9ecef;
            padding: 0.2em 0.4em;
            margin: 0;
            font-size: 85%;
            border-radius: 3px;
            font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
            color: #d63384; /* Bootstrap pink */
        }
        strong {
            font-weight: 600;
        }
        ul {
            padding-left: 25px;
            list-style: none; /* Remove default bullets */
        }
        li {
            margin-bottom: 15px;
            padding-left: 1.5em;
            position: relative;
        }
        /* Custom bullet */
        li::before {
            content: "üîπ"; /* Unicode character for a bullet */
            color: #0d6efd;
            font-size: 0.8em;
            position: absolute;
            left: 0;
            top: 0.1em;
        }
        p {
            margin-top: 0.5em;
            margin-bottom: 0.5em;
        }
        .command-desc {
            margin-left: 0px; /* No extra indent needed now */
            font-size: 0.95em;
            color: #495057;
        }
        .intro-text {
            margin-bottom: 20px;
            font-size: 1.05em;
            color: #212529;
        }

        /* Language & Tab Switcher Styling */
        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #dee2e6;
            flex-wrap: wrap; /* Allow wrapping on small screens */
        }
        .lang-switcher, .tab-switcher {
            margin-bottom: 10px; /* Space between switchers if they wrap */
        }
        .control-button {
            padding: 8px 16px;
            margin: 0 4px;
            cursor: pointer;
            border: 1px solid #adb5bd;
            border-radius: 5px;
            background-color: #f8f9fa;
            font-size: 0.9em;
            transition: background-color 0.2s ease, border-color 0.2s ease, color 0.2s ease;
        }
        .control-button:hover {
            background-color: #e9ecef;
            border-color: #6c757d;
        }
        .control-button.active {
            background-color: #0d6efd;
            color: #fff;
            border-color: #0d6efd;
        }

        /* Tab Content Styling */
        .tab-pane {
            display: none; /* Hide all tab panes initially */
            border-top: 1px solid #dee2e6;
            padding-top: 20px;
        }
        .tab-pane.active {
            display: block; /* Show active tab pane */
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            .controls {
                flex-direction: column;
                align-items: stretch; /* Make buttons full width */
            }
            .lang-switcher, .tab-switcher {
                 display: flex;
                 justify-content: center;
                 flex-wrap: wrap;
                 margin-bottom: 15px;
            }
             .control-button {
                 margin: 5px;
             }
            .container {
                padding: 15px;
            }
            h1 {
                font-size: 1.6em;
            }
            h2 {
                font-size: 1.3em;
            }
            li::before {
                 top: 0.2em;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Telegram Testing Bot Handbook / –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ –±–æ—Ç—É –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h1>

    <div class="controls">
        <div class="lang-switcher">
            <button id="lang-toggle-btn" class="control-button" onclick="toggleLanguage()" title="Switch Language / –°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫">
                üåê <span id="lang-toggle-text">English</span> <!-- Text shows the language you will switch TO -->
            </button>
        </div>
         <div class="tab-switcher">
            <button id="tab-btn-student" class="control-button active" onclick="switchTab('student')">üéì Student</button>
            <button id="tab-btn-teacher" class="control-button" onclick="switchTab('teacher')">üë©‚Äçüè´ Teacher</button>
            <button id="tab-btn-admin" class="control-button" onclick="switchTab('admin')">üõ†Ô∏è Admin</button>
        </div>
    </div>

    <!-- Content Area -->
    <div id="content-area">
        <!-- Content divs will be dynamically populated or shown/hidden -->
        <!-- English Content Panes -->
        <div id="pane-en-student" class="tab-pane lang-pane-en active">
            <h2><span role="img" aria-label="student">üéì</span> Student Guide</h2>
            <p class="intro-text">As a student, you can take available tests and view your results.</p>
            <h3>Taking Tests & Viewing Materials/Results</h3>
             <ul>
                 <li>
                    <p><code>/test [test_id]</code></p>
                    <p class="command-desc">Start taking a currently active test specified by <code>[test_id]</code>. You will be guided through the questions interactively.</p>
                </li>
                 <li>
                    <p><code>/materials [test_id]</code></p>
                    <p class="command-desc">Get supplementary materials (if any) for the specified test.</p>
                </li>
                 <li>
                    <p><code>/results</code></p>
                    <p class="command-desc">View a summary of your own past test attempts and scores.</p>
                </li>
                 <li>
                    <p><code>/show [test_id]</code></p>
                    <p class="command-desc">View the questions and answer options for a test in a text format (does not indicate correct answers).</p>
                </li>
                 <li>
                    <p><code>/help</code></p>
                    <p class="command-desc">Show the list of commands available to you.</p>
                </li>
            </ul>
        </div>

        <div id="pane-en-teacher" class="tab-pane lang-pane-en">
            <h2><span role="img" aria-label="teacher">üë©‚Äçüè´</span> Teacher Guide</h2>
            <p class="intro-text">Teachers can manage their tests, materials, activations, view results for tests they activate, and also take tests.</p>
            <h3>Test Bank & Material Management</h3>
             <ul>
                 <li>
                    <p><code>/upload</code> (then send CSV file)</p>
                    <p class="command-desc">Upload or update a test question bank (<code>test<ID>.csv</code>).</p>
                </li>
                 <li>
                    <p><code>/upload [test_id]</code> (then send files)</p>
                    <p class="command-desc">Upload supplementary materials for an existing test specified by <code>[test_id]</code>.</p>
                </li>
                <li>
                    <p><code>/download [test_id]</code></p>
                    <p class="command-desc">Download a test bank as CSV.</p>
                </li>
                 <li>
                    <p><code>/list_tests</code></p>
                    <p class="command-desc">List all available test banks.</p>
                </li>
                 <li>
                    <p><code>/show [test_id]</code></p>
                    <p class="command-desc">View test questions in printable format.</p>
                </li>
                 <li>
                    <p><code>/materials [test_id]</code></p>
                    <p class="command-desc">Get supplementary materials for a test.</p>
                </li>
                 <li>
                    <p><strong>CSV Format Details (for <code>/upload</code>):</strong></p>
                    <p class="command-desc">File must be named <code>test<ID>.csv</code>, UTF-8 encoded, semicolon (<code>;</code>) separated. Each row: <code>Question;CorrectAnswer;Option2;Option3...</code></p>
                </li>
            </ul>
             <h3>Test Activation & Results</h3>
             <ul>
                 <li>
                    <p><code>/act_test [test_id] ...</code></p>
                    <p class="command-desc">Activate a test, check status, or deactivate it.</p>
                </li>
                 <li>
                    <p><code>/help_act_test</code></p>
                    <p class="command-desc">Get detailed help and examples for the <code>/act_test</code> command.</p>
                </li>
                 <li>
                    <p><code>/results [test_id]</code></p>
                    <p class="command-desc">View student results **only for test activations you initiated** for the specified test ID.</p>
                </li>
                 <li>
                    <p><code>/txt [test_id]</code></p>
                    <p class="command-desc">Get a <code>.txt</code> file with results **only for test activations you initiated**.</p>
                </li>
            </ul>
             <h3>Taking Tests & Own Results</h3>
             <ul>
                 <li>
                    <p><code>/test [test_id]</code></p>
                    <p class="command-desc">Start taking a currently active test.</p>
                </li>
                <li>
                    <p><code>/results</code></p>
                    <p class="command-desc">View your own results from tests you have taken.</p>
                </li>
                <li>
                    <p><code>/help</code></p>
                    <p class="command-desc">Show the list of commands available to you.</p>
                </li>
            </ul>
        </div>

        <div id="pane-en-admin" class="tab-pane lang-pane-en">
             <h2><span role="img" aria-label="toolbox">üõ†Ô∏è</span> Administrator Guide</h2>
             <p class="intro-text">Administrators have full control over the bot, users, and tests.</p>
             <h3>User Management</h3>
            <ul>
                <li>
                    <p><code>/add_admin [username]</code></p>
                    <p class="command-desc">Promote an existing user to Administrator.</p>
                </li>
                <li>
                    <p><code>/remove_admin [username]</code></p>
                    <p class="command-desc">Demote an Administrator to Student (cannot remove self or last admin).</p>
                </li>
                 <li>
                    <p><code>/list_admins</code></p>
                    <p class="command-desc">List all Administrators.</p>
                </li>
                 <li>
                    <p><code>/add_teacher [username]</code></p>
                    <p class="command-desc">Promote an existing user to Teacher (using @username).</p>
                </li>
                 <li>
                    <p><code>/add_teacher_by_id [user_id]</code></p>
                    <p class="command-desc">Promote an existing user to Teacher (using numerical ID).</p>
                </li>
                <li>
                    <p><code>/remove_teacher [username]</code></p>
                    <p class="command-desc">Demote a Teacher to Student.</p>
                </li>
                 <li>
                    <p><code>/list_teachers</code></p>
                    <p class="command-desc">List all Teachers.</p>
                </li>
            </ul>
             <h3>Test Bank & Material Management</h3>
             <ul>
                <li>
                    <p><code>/upload</code> (then send CSV file)</p>
                    <p class="command-desc">Upload/update a test bank (<code>test<ID>.csv</code>). See format details below.</p>
                </li>
                 <li>
                    <p><code>/upload [test_id]</code> (then send files)</p>
                    <p class="command-desc">Upload supplementary materials for test <code>[test_id]</code>.</p>
                </li>
                <li>
                    <p><code>/download [test_id]</code></p>
                    <p class="command-desc">Download test bank as CSV.</p>
                </li>
                 <li>
                    <p><code>/delete_test [test_id]</code></p>
                    <p class="command-desc">Delete test bank and associated data (if no results exist).</p>
                 </li>
                 <li>
                    <p><code>/list_tests</code></p>
                    <p class="command-desc">List all loaded test banks.</p>
                </li>
                 <li>
                    <p><code>/show [test_id]</code></p>
                    <p class="command-desc">View test questions in printable format.</p>
                </li>
                 <li>
                    <p><code>/materials [test_id]</code></p>
                    <p class="command-desc">Get supplementary materials for a test.</p>
                </li>
                 <li>
                    <p><strong>CSV Format Details (for <code>/upload</code>):</strong></p>
                    <p class="command-desc">File must be named <code>test<ID>.csv</code>, UTF-8 encoded, semicolon (<code>;</code>) separated. Each row: <code>Question;CorrectAnswer;Option2;Option3...</code></p>
                </li>
            </ul>
             <h3>Test Activation & Results</h3>
             <ul>
                 <li>
                    <p><code>/act_test [test_id] ...</code></p>
                    <p class="command-desc">Activate a test, check status, or deactivate it.</p>
                </li>
                 <li>
                    <p><code>/help_act_test</code></p>
                    <p class="command-desc">Get detailed help for <code>/act_test</code>.</p>
                </li>
                 <li>
                    <p><code>/results [test_id]</code></p>
                    <p class="command-desc">View all results for the specified test ID.</p>
                </li>
                 <li>
                    <p><code>/txt [test_id]</code></p>
                    <p class="command-desc">Get a <code>.txt</code> file with all results for the test ID.</p>
                </li>
                <li>
                    <p><code>/help</code></p>
                    <p class="command-desc">Show the list of commands available to you.</p>
                </li>
            </ul>
        </div>

        <!-- Russian Content Panes -->
         <div id="pane-ru-student" class="tab-pane lang-pane-ru">
            <h2><span role="img" aria-label="student">üéì</span> –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –°—Ç—É–¥–µ–Ω—Ç–∞</h2>
             <p class="intro-text">–ë—É–¥—É—á–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–º, –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.</p>
             <h3>–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤/—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</h3>
             <ul>
                 <li>
                    <p><code>/test [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ù–∞—á–∞—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Ç–µ—Å—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º <code>[ID_—Ç–µ—Å—Ç–∞]</code>. –ë–æ—Ç –±—É–¥–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ.</p>
                </li>
                 <li>
                    <p><code>/materials [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü–æ–ª—É—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–µ—Å–ª–∏ –µ—Å—Ç—å) –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞.</p>
                </li>
                 <li>
                    <p><code>/results</code></p>
                    <p class="command-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–¥–∫—É —Å–≤–æ–∏—Ö –ø—Ä–æ—à–ª—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ –∏ –æ—Ü–µ–Ω–æ–∫.</p>
                </li>
                 <li>
                    <p><code>/show [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∞ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–µ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è).</p>
                </li>
                 <li>
                    <p><code>/help</code></p>
                    <p class="command-desc">–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞–º –∫–æ–º–∞–Ω–¥.</p>
                </li>
            </ul>
        </div>

         <div id="pane-ru-teacher" class="tab-pane lang-pane-ru">
            <h2><span role="img" aria-label="teacher">üë©‚Äçüè´</span> –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è</h2>
             <p class="intro-text">–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏, –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏, –∞–∫—Ç–∏–≤–∞—Ü–∏—è–º–∏, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏, –∞ —Ç–∞–∫–∂–µ —Å–∞–º–∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —Ç–µ—Å—Ç—ã.</p>
             <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏</h3>
             <ul>
                 <li>
                    <p><code>/upload</code> (–∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å CSV —Ñ–∞–π–ª)</p>
                    <p class="command-desc">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –±–∞–Ω–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–µ—Å—Ç–∞ (<code>test<ID>.csv</code>).</p>
                </li>
                 <li>
                    <p><code>/upload [ID_—Ç–µ—Å—Ç–∞]</code> (–∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã)</p>
                    <p class="command-desc">–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ç–µ—Å—Ç–∞ <code>[ID_—Ç–µ—Å—Ç–∞]</code>.</p>
                </li>
                <li>
                    <p><code>/download [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–°–∫–∞—á–∞—Ç—å –±–∞–Ω–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV.</p>
                </li>
                 <li>
                    <p><code>/list_tests</code></p>
                    <p class="command-desc">–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–∞–Ω–∫–æ–≤ —Ç–µ—Å—Ç–æ–≤.</p>
                </li>
                 <li>
                    <p><code>/show [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–ø—Ä–æ—Å—ã —Ç–µ—Å—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –ø–µ—á–∞—Ç–∏.</p>
                </li>
                 <li>
                    <p><code>/materials [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü–æ–ª—É—á–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∞.</p>
                </li>
                 <li>
                    <p><strong>–î–µ—Ç–∞–ª–∏ —Ñ–æ—Ä–º–∞—Ç–∞ CSV (–¥–ª—è <code>/upload</code>):</strong></p>
                    <p class="command-desc">–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è <code>test<ID>.csv</code>, –∫–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å - —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π (<code>;</code>). –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞: <code>–í–æ–ø—Ä–æ—Å;–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π–û—Ç–≤–µ—Ç;–í–∞—Ä–∏–∞–Ω—Ç2;–í–∞—Ä–∏–∞–Ω—Ç3...</code></p>
                </li>
            </ul>
             <h3>–ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
             <ul>
                 <li>
                    <p><code>/act_test [ID_—Ç–µ—Å—Ç–∞] ...</code></p>
                    <p class="command-desc">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.</p>
                </li>
                 <li>
                    <p><code>/help_act_test</code></p>
                    <p class="command-desc">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø—Ä–∞–≤–∫—É –∏ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –∫–æ–º–∞–Ω–¥—ã <code>/act_test</code>.</p>
                </li>
                 <li>
                    <p><code>/results [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ **—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Ö –∞–∫—Ç–∏–≤–∞—Ü–∏–π —Ç–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏** –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ ID —Ç–µ—Å—Ç–∞.</p>
                </li>
                 <li>
                    <p><code>/txt [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª <code>.txt</code> —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ **—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Ö –∞–∫—Ç–∏–≤–∞—Ü–∏–π —Ç–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –∑–∞–ø—É—Å—Ç–∏–ª–∏**.</p>
                </li>
            </ul>
             <h3>–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –∏ —Å–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
             <ul>
                 <li>
                    <p><code>/test [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ù–∞—á–∞—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Ç–µ—Å—Ç–∞.</p>
                </li>
                <li>
                    <p><code>/results</code></p>
                    <p class="command-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —Ç–µ—Å—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –ø—Ä–æ—à–ª–∏.</p>
                </li>
                <li>
                    <p><code>/help</code></p>
                    <p class="command-desc">–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞–º –∫–æ–º–∞–Ω–¥.</p>
                </li>
            </ul>
        </div>

         <div id="pane-ru-admin" class="tab-pane lang-pane-ru">
            <h2><span role="img" aria-label="toolbox">üõ†Ô∏è</span> –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h2>
             <p class="intro-text">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –∏–º–µ—é—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –±–æ—Ç–æ–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ —Ç–µ—Å—Ç–∞–º–∏.</p>
             <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h3>
            <ul>
                <li>
                    <p><code>/add_admin [username]</code></p>
                    <p class="command-desc">–ù–∞–∑–Ω–∞—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.</p>
                </li>
                <li>
                    <p><code>/remove_admin [username]</code></p>
                    <p class="command-desc">–ü–æ–Ω–∏–∑–∏—Ç—å –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–æ –°—Ç—É–¥–µ–Ω—Ç–∞ (–Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Å–µ–±—è –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∞–¥–º–∏–Ω–∞).</p>
                </li>
                 <li>
                    <p><code>/list_admins</code></p>
                    <p class="command-desc">–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤.</p>
                </li>
                 <li>
                    <p><code>/add_teacher [username]</code></p>
                    <p class="command-desc">–ù–∞–∑–Ω–∞—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º (–ø–æ @username).</p>
                </li>
                 <li>
                    <p><code>/add_teacher_by_id [user_id]</code></p>
                    <p class="command-desc">–ù–∞–∑–Ω–∞—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–º (–ø–æ —á–∏—Å–ª–æ–≤–æ–º—É ID).</p>
                </li>
                <li>
                    <p><code>/remove_teacher [username]</code></p>
                    <p class="command-desc">–ü–æ–Ω–∏–∑–∏—Ç—å –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –¥–æ –°—Ç—É–¥–µ–Ω—Ç–∞.</p>
                </li>
                 <li>
                    <p><code>/list_teachers</code></p>
                    <p class="command-desc">–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π.</p>
                </li>
            </ul>
             <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏</h3>
             <ul>
                <li>
                    <p><code>/upload</code> (–∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å CSV)</p>
                    <p class="command-desc">–ó–∞–≥—Ä—É–∑–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –±–∞–Ω–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ (<code>test<ID>.csv</code>). –°–º. –¥–µ—Ç–∞–ª–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –Ω–∏–∂–µ.</p>
                </li>
                 <li>
                    <p><code>/upload [ID_—Ç–µ—Å—Ç–∞]</code> (–∑–∞—Ç–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ñ–∞–π–ª—ã)</p>
                    <p class="command-desc">–ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–ø. –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∞ <code>[ID_—Ç–µ—Å—Ç–∞]</code>.</p>
                </li>
                <li>
                    <p><code>/download [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–°–∫–∞—á–∞—Ç—å –±–∞–Ω–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ CSV.</p>
                </li>
                 <li>
                    <p><code>/delete_test [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–£–¥–∞–ª–∏—Ç—å –±–∞–Ω–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤).</p>
                 </li>
                 <li>
                    <p><code>/list_tests</code></p>
                    <p class="command-desc">–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –±–∞–Ω–∫–æ–≤ —Ç–µ—Å—Ç–æ–≤.</p>
                </li>
                 <li>
                    <p><code>/show [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤–æ–ø—Ä–æ—Å—ã —Ç–µ—Å—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –ø–µ—á–∞—Ç–∏.</p>
                </li>
                 <li>
                    <p><code>/materials [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü–æ–ª—É—á–∏—Ç—å –¥–æ–ø. –º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Ç–µ—Å—Ç–∞.</p>
                </li>
                 <li>
                    <p><strong>–î–µ—Ç–∞–ª–∏ —Ñ–æ—Ä–º–∞—Ç–∞ CSV (–¥–ª—è <code>/upload</code>):</strong></p>
                    <p class="command-desc">–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –Ω–∞–∑—ã–≤–∞—Ç—å—Å—è <code>test<ID>.csv</code>, –∫–æ–¥–∏—Ä–æ–≤–∫–∞ UTF-8, —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å - —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π (<code>;</code>). –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞: <code>–í–æ–ø—Ä–æ—Å;–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π–û—Ç–≤–µ—Ç;–í–∞—Ä–∏–∞–Ω—Ç2;–í–∞—Ä–∏–∞–Ω—Ç3...</code></p>
                </li>
            </ul>
             <h3>–ê–∫—Ç–∏–≤–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
             <ul>
                 <li>
                    <p><code>/act_test [ID_—Ç–µ—Å—Ç–∞] ...</code></p>
                    <p class="command-desc">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–ª–∏ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.</p>
                </li>
                 <li>
                    <p><code>/help_act_test</code></p>
                    <p class="command-desc">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é —Å–ø—Ä–∞–≤–∫—É –ø–æ <code>/act_test</code>.</p>
                </li>
                 <li>
                    <p><code>/results [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ ID —Ç–µ—Å—Ç–∞.</p>
                </li>
                 <li>
                    <p><code>/txt [ID_—Ç–µ—Å—Ç–∞]</code></p>
                    <p class="command-desc">–ü–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª <code>.txt</code> —Å–æ –≤—Å–µ–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –¥–ª—è ID —Ç–µ—Å—Ç–∞.</p>
                </li>
                <li>
                    <p><code>/help</code></p>
                    <p class="command-desc">–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞–º –∫–æ–º–∞–Ω–¥.</p>
                </li>
            </ul>
        </div>
    </div> <!-- /#content-area -->

</div><!-- /.container -->

<script>
    let currentLang = 'en'; // Default language
    let currentTab = 'student'; // Default tab

    const langToggleBtn = document.getElementById('lang-toggle-btn');
    const langToggleTextSpan = document.getElementById('lang-toggle-text');

    // --- NEW: Function to toggle language ---
    function toggleLanguage() {
        currentLang = (currentLang === 'en') ? 'ru' : 'en';
        updateLanguageToggleText(); // Update the button text
        showCorrectPane(); // Show the content for the new language/tab
    }

    // --- NEW: Helper to update the toggle button text ---
    function updateLanguageToggleText() {
        if (langToggleTextSpan) {
            // Correct logic: Show the language you can switch *TO*
            langToggleTextSpan.textContent = (currentLang === 'en') ? '–†—É—Å—Å–∫–∏–π' : 'English';
            // Update title attribute too (this was already correct)
            langToggleBtn.title = (currentLang === 'en') ? 'Switch to –†—É—Å—Å–∫–∏–π' : '–°–º–µ–Ω–∏—Ç—å –Ω–∞ English';
        }
    }

    // --- Function to switch tabs (remains the same) ---
    function switchTab(tab) {
         if (tab === currentTab) return;
         currentTab = tab;
         // Update tab button states
         document.querySelectorAll('.tab-switcher .control-button').forEach(button => {
            button.classList.remove('active');
         });
         document.getElementById('tab-btn-' + tab)?.classList.add('active');
         // Update visibility based on current language AND current tab
         showCorrectPane();
    }

    // --- Function to show the correct content pane (remains the same) ---
     function showCorrectPane() {
        // Hide all tab panes first
        document.querySelectorAll('.tab-pane').forEach(pane => {
            pane.style.display = 'none'; // Just hide, active class not strictly needed now for display
        });

        // Construct the ID of the pane to show
        const paneId = `pane-${currentLang}-${currentTab}`;
        const selectedPane = document.getElementById(paneId);

        // Show the selected pane
        if (selectedPane) {
            selectedPane.style.display = 'block';
        } else {
            console.error("Could not find pane with ID:", paneId);
        }
    }

    // Set initial state on page load
    document.addEventListener('DOMContentLoaded', () => {
        // Set defaults (already defined above)
        // Update the language toggle button text based on initial language
        updateLanguageToggleText();
        // Activate the initial tab button and show the correct initial pane
        document.getElementById('tab-btn-' + currentTab)?.classList.add('active');
        showCorrectPane();
    });
</script>

</body>
</html>